import{b as fe,c as $e,e as Ce,f as _e,g as be,h as Re,i as Te,k as Pe}from"/build/_shared/chunk-GXHTEDRQ.js";function Me(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}var G=function(){return G=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},G.apply(this,arguments)},Se=[],te=[],Ye="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function ke(r,t){if(t=t||{},r===void 0)throw new Error(Ye);var n=t.prepend===!0?"prepend":"append",s=t.container!==void 0?t.container:document.querySelector("head"),o=Se.indexOf(s);o===-1&&(o=Se.push(s)-1,te[o]={});var c;return te[o]!==void 0&&te[o][n]!==void 0?c=te[o][n]:(c=te[o][n]=Ve(),n==="prepend"?s.insertBefore(c,s.childNodes[0]):s.appendChild(c)),r.charCodeAt(0)===65279&&(r=r.substr(1,r.length)),c.styleSheet?c.styleSheet.cssText+=r:c.textContent+=r,c}function Ve(){var r=document.createElement("style");return r.setAttribute("type","text/css"),r}var Ue=ke,Oe=ke;Ue.insertCss=Oe;var K;(function(r){r.Call="call",r.Reply="reply",r.Syn="syn",r.SynAck="synAck",r.Ack="ack"})(K||(K={}));var J;(function(r){r.Fulfilled="fulfilled",r.Rejected="rejected"})(J||(J={}));var oe;(function(r){r.ConnectionDestroyed="ConnectionDestroyed",r.ConnectionTimeout="ConnectionTimeout",r.NoIframeSrc="NoIframeSrc"})(oe||(oe={}));var ye;(function(r){r.DataCloneError="DataCloneError"})(ye||(ye={}));var q;(function(r){r.Message="message"})(q||(q={}));var We=(r,t)=>{let n=[],s=!1;return{destroy(o){s||(s=!0,t(`${r}: Destroying connection`),n.forEach(c=>{c(o)}))},onDestroy(o){s?o():n.push(o)}}},Be=r=>(...t)=>{r&&console.log("[Penpal]",...t)},Ke={"http:":"80","https:":"443"},ze=/^(https?:)?\/\/([^/:]+)?(:(\d+))?/,He=["file:","data:"],Ge=r=>{if(r&&He.find(d=>r.startsWith(d)))return"null";let t=document.location,n=ze.exec(r),s,o,c;n?(s=n[1]?n[1]:t.protocol,o=n[2],c=n[4]):(s=t.protocol,o=t.hostname,c=t.port);let h=c&&c!==Ke[s]?`:${c}`:"";return`${s}//${o}${h}`},we=({name:r,message:t,stack:n})=>({name:r,message:t,stack:n}),qe=r=>{let t=new Error;return Object.keys(r).forEach(n=>t[n]=r[n]),t},Xe=(r,t,n)=>{let{localName:s,local:o,remote:c,originForSending:h,originForReceiving:d}=r,x=!1,m=_=>{if(_.source!==c||_.data.penpal!==K.Call)return;if(d!=="*"&&_.origin!==d){n(`${s} received message from origin ${_.origin} which did not match expected origin ${d}`);return}let j=_.data,{methodName:A,args:S,id:L}=j;n(`${s}: Received ${A}() call`);let k=O=>D=>{if(n(`${s}: Sending ${A}() reply`),x){n(`${s}: Unable to send ${A}() reply due to destroyed connection`);return}let F={penpal:K.Reply,id:L,resolution:O,returnValue:D};O===J.Rejected&&D instanceof Error&&(F.returnValue=we(D),F.returnValueIsError=!0);try{c.postMessage(F,h)}catch(C){if(C.name===ye.DataCloneError){let M={penpal:K.Reply,id:L,resolution:J.Rejected,returnValue:we(C),returnValueIsError:!0};c.postMessage(M,h)}throw C}};new Promise(O=>O(t[A].apply(t,S))).then(k(J.Fulfilled),k(J.Rejected))};return o.addEventListener(q.Message,m),()=>{x=!0,o.removeEventListener(q.Message,m)}},Ze=0,Je=()=>++Ze,Fe=".",Ne=r=>r?r.split(Fe):[],Qe=r=>r.join(Fe),er=(r,t)=>{let n=Ne(t||"");return n.push(r),Qe(n)},rr=(r,t,n)=>{let s=Ne(t);return s.reduce((o,c,h)=>(typeof o[c]>"u"&&(o[c]={}),h===s.length-1&&(o[c]=n),o[c]),r),r},Ie=(r,t)=>{let n={};return Object.keys(r).forEach(s=>{let o=r[s],c=er(s,t);typeof o=="object"&&Object.assign(n,Ie(o,c)),typeof o=="function"&&(n[c]=o)}),n},tr=r=>{let t={};for(let n in r)rr(t,n,r[n]);return t},nr=(r,t,n,s,o)=>{let{localName:c,local:h,remote:d,originForSending:x,originForReceiving:m}=t,_=!1;o(`${c}: Connecting call sender`);let j=S=>(...L)=>{o(`${c}: Sending ${S}() call`);let k;try{d.closed&&(k=!0)}catch{k=!0}if(k&&s(),_){let O=new Error(`Unable to send ${S}() call due to destroyed connection`);throw O.code=oe.ConnectionDestroyed,O}return new Promise((O,D)=>{let F=Je(),C=$=>{if($.source!==d||$.data.penpal!==K.Reply||$.data.id!==F)return;if(m!=="*"&&$.origin!==m){o(`${c} received message from origin ${$.origin} which did not match expected origin ${m}`);return}let z=$.data;o(`${c}: Received ${S}() reply`),h.removeEventListener(q.Message,C);let H=z.returnValue;z.returnValueIsError&&(H=qe(H)),(z.resolution===J.Fulfilled?O:D)(H)};h.addEventListener(q.Message,C);let M={penpal:K.Call,id:F,methodName:S,args:L};d.postMessage(M,x)})},A=n.reduce((S,L)=>(S[L]=j(L),S),{});return Object.assign(r,tr(A)),()=>{_=!0}},or=(r,t,n,s,o)=>{let{destroy:c,onDestroy:h}=s,d,x,m={};return _=>{if(t!=="*"&&_.origin!==t){o(`Parent: Handshake - Received ACK message from origin ${_.origin} which did not match expected origin ${t}`);return}o("Parent: Handshake - Received ACK");let j={localName:"Parent",local:window,remote:_.source,originForSending:n,originForReceiving:t};d&&d(),d=Xe(j,r,o),h(d),x&&x.forEach(S=>{delete m[S]}),x=_.data.methodNames;let A=nr(m,j,x,c,o);return h(A),m}},ar=(r,t,n,s)=>o=>{if(!o.source)return;if(n!=="*"&&o.origin!==n){r(`Parent: Handshake - Received SYN message from origin ${o.origin} which did not match expected origin ${n}`);return}r("Parent: Handshake - Received SYN, responding with SYN-ACK");let c={penpal:K.SynAck,methodNames:Object.keys(t)};o.source.postMessage(c,s)},ir=6e4,sr=(r,t)=>{let{destroy:n,onDestroy:s}=t,o=setInterval(()=>{r.isConnected||(clearInterval(o),n())},ir);s(()=>{clearInterval(o)})},cr=(r,t)=>{let n;return r!==void 0&&(n=window.setTimeout(()=>{let s=new Error(`Connection timed out after ${r}ms`);s.code=oe.ConnectionTimeout,t(s)},r)),()=>{clearTimeout(n)}},lr=r=>{if(!r.src&&!r.srcdoc){let t=new Error("Iframe must have src or srcdoc property defined.");throw t.code=oe.NoIframeSrc,t}},ur=r=>{let{iframe:t,methods:n={},childOrigin:s,timeout:o,debug:c=!1}=r,h=Be(c),d=We("Parent",h),{onDestroy:x,destroy:m}=d;s||(lr(t),s=Ge(t.src));let _=s==="null"?"*":s,j=Ie(n),A=ar(h,j,s,_),S=or(j,s,_,d,h);return{promise:new Promise((k,O)=>{let D=cr(o,m),F=C=>{if(!(C.source!==t.contentWindow||!C.data)){if(C.data.penpal===K.Syn){A(C);return}if(C.data.penpal===K.Ack){let M=S(C);M&&(D(),k(M));return}}};window.addEventListener(q.Message,F),h("Parent: Awaiting handshake"),sr(t,d),x(C=>{window.removeEventListener(q.Message,F),C&&O(C)})}),destroy(){m()}}},pr=["interactive","complete"],he=function(t,n){return new Promise(function(s){t&&typeof t!="function"&&(n=t,t=null),n=n||window.document;var o=function(){return s(void(t&&setTimeout(t)))};pr.indexOf(n.readyState)!==-1?o():n.addEventListener("DOMContentLoaded",o)})};he.resume=function(r){return function(t){return he(r).then(function(){return t})}};var dr="https://app.usecsv.com/importer",fr=function(r,t){var n=document.getElementById("usecsv-importer-inline-wrapper"),s=t==="modal"||!n?".usecsv_container { position: fixed; top: 0px; bottom: 0; right: 0; left: 0; z-index: 100000; }":"";Oe(`
  `.concat(s,`
  .usecsv_container iframe {
    width: 100%;
    height: 100%;
    position: absolute;
    border-width: 0;
  }
  .usecsv_container {
    overflow: hidden;
    overscroll-behavior-x: none;
  }
`)),document.body.insertAdjacentHTML("beforeend","<div id=".concat(r,' class="usecsv_container loading"></div>'));var o=document.createElement("iframe");o.setAttribute("src",dr);var c=document.getElementById(r);return c?.appendChild(o),t==="inline"&&n&&n?.appendChild(c),o},Ae=function(r){var t=r.importerKey,n=r.user,s=r.metadata,o=r.onData,c=r.onRecordsInitial,h=r.onRecordEdit,d=r.importerDisplay,x=d===void 0?"modal":d,m=r.onClose,_=r.theme,j=r.batchSize,A=r.sampleFileURL,S=r.downloadExampleButton,L=S===void 0?!0:S,k=r.dynamicColumns,O=r.defaultLanguage,D=r.onError,F=r.customText,C=r.acceptedFileFormats,M=r.onFileUpload,$="usecsv-".concat(Math.round(Math.random()*1e8));return he().then(function(){var z=fr($,x),H=function(){var U;(U=document.getElementById($))===null||U===void 0||U.remove()},X=ur({iframe:z,methods:G(G(G(G(G(G({closeIframe:H},o?{onData:function(U){return o(U,H)}}:{}),c?{onRecordsInitial:c}:{}),h?{onRecordEdit:h}:{}),m?{onClose:m}:{}),D?{onError:D}:{}),M?{onFileUpload:M}:{})});return X.promise.then(function(U){var Z;(Z=document.getElementById($))===null||Z===void 0||Z.classList.remove("loading"),U.setParams&&U.setParams({importerKey:t,user:n,metadata:s,importerDisplay:x,theme:_,batchSize:j,sampleFileURL:A,downloadExampleButton:L,dynamicColumns:k,defaultLanguage:O,customText:F,acceptedFileFormats:C})}),X})};function ve(r,t){return t={exports:{}},r(t,t.exports),t.exports}var xe=Object.getOwnPropertySymbols,mr=Object.prototype.hasOwnProperty,yr=Object.prototype.propertyIsEnumerable;function hr(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function vr(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var s=Object.getOwnPropertyNames(t).map(function(c){return t[c]});if(s.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(c){o[c]=c}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var me=vr()?Object.assign:function(r,t){for(var n,s=hr(r),o,c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var h in n)mr.call(n,h)&&(s[h]=n[h]);if(xe){o=xe(n);for(var d=0;d<o.length;d++)yr.call(n,o[d])&&(s[o[d]]=n[o[d]])}}return s},y=ve(function(r,t){var n=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,c=60110,h=60112;t.Suspense=60113;var d=60115,x=60116;if(typeof Symbol=="function"&&Symbol.for){var m=Symbol.for;n=m("react.element"),s=m("react.portal"),t.Fragment=m("react.fragment"),t.StrictMode=m("react.strict_mode"),t.Profiler=m("react.profiler"),o=m("react.provider"),c=m("react.context"),h=m("react.forward_ref"),t.Suspense=m("react.suspense"),d=m("react.memo"),x=m("react.lazy")}var _=typeof Symbol=="function"&&Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=_&&e[_]||e["@@iterator"],typeof e=="function"?e:null)}function A(e){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+e,p=1;p<arguments.length;p++)a+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L={};function k(e,a,p){this.props=e,this.context=a,this.refs=L,this.updater=p||S}k.prototype.isReactComponent={},k.prototype.setState=function(e,a){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(A(85));this.updater.enqueueSetState(this,e,a,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function O(){}O.prototype=k.prototype;function D(e,a,p){this.props=e,this.context=a,this.refs=L,this.updater=p||S}var F=D.prototype=new O;F.constructor=D,me(F,k.prototype),F.isPureReactComponent=!0;var C={current:null},M=Object.prototype.hasOwnProperty,$={key:!0,ref:!0,__self:!0,__source:!0};function z(e,a,p){var E,g={},R=null,w=null;if(a!=null)for(E in a.ref!==void 0&&(w=a.ref),a.key!==void 0&&(R=""+a.key),a)M.call(a,E)&&!$.hasOwnProperty(E)&&(g[E]=a[E]);var T=arguments.length-2;if(T===1)g.children=p;else if(1<T){for(var b=Array(T),Y=0;Y<T;Y++)b[Y]=arguments[Y+2];g.children=b}if(e&&e.defaultProps)for(E in T=e.defaultProps,T)g[E]===void 0&&(g[E]=T[E]);return{$$typeof:n,type:e,key:R,ref:w,props:g,_owner:C.current}}function H(e,a){return{$$typeof:n,type:e.type,key:a,ref:e.ref,props:e.props,_owner:e._owner}}function X(e){return typeof e=="object"&&e!==null&&e.$$typeof===n}function U(e){var a={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(p){return a[p]})}var Z=/\/+/g;function ae(e,a){return typeof e=="object"&&e!==null&&e.key!=null?U(""+e.key):a.toString(36)}function Q(e,a,p,E,g){var R=typeof e;(R==="undefined"||R==="boolean")&&(e=null);var w=!1;if(e===null)w=!0;else switch(R){case"string":case"number":w=!0;break;case"object":switch(e.$$typeof){case n:case s:w=!0}}if(w)return w=e,g=g(w),e=E===""?"."+ae(w,0):E,Array.isArray(g)?(p="",e!=null&&(p=e.replace(Z,"$&/")+"/"),Q(g,a,p,"",function(Y){return Y})):g!=null&&(X(g)&&(g=H(g,p+(!g.key||w&&w.key===g.key?"":(""+g.key).replace(Z,"$&/")+"/")+e)),a.push(g)),1;if(w=0,E=E===""?".":E+":",Array.isArray(e))for(var T=0;T<e.length;T++){R=e[T];var b=E+ae(R,T);w+=Q(R,a,p,b,g)}else if(b=j(e),typeof b=="function")for(e=b.call(e),T=0;!(R=e.next()).done;)R=R.value,b=E+ae(R,T++),w+=Q(R,a,p,b,g);else if(R==="object")throw a=""+e,Error(A(31,a==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":a));return w}function ee(e,a,p){if(e==null)return e;var E=[],g=0;return Q(e,E,"","",function(R){return a.call(p,R,g++)}),E}function ge(e){if(e._status===-1){var a=e._result;a=a(),e._status=0,e._result=a,a.then(function(p){e._status===0&&(p=p.default,e._status=1,e._result=p)},function(p){e._status===0&&(e._status=2,e._result=p)})}if(e._status===1)return e._result;throw e._result}var ce={current:null};function B(){var e=ce.current;if(e===null)throw Error(A(321));return e}var Ee={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:me};t.Children={map:ee,forEach:function(e,a,p){ee(e,function(){a.apply(this,arguments)},p)},count:function(e){var a=0;return ee(e,function(){a++}),a},toArray:function(e){return ee(e,function(a){return a})||[]},only:function(e){if(!X(e))throw Error(A(143));return e}},t.Component=k,t.PureComponent=D,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ee,t.cloneElement=function(e,a,p){if(e==null)throw Error(A(267,e));var E=me({},e.props),g=e.key,R=e.ref,w=e._owner;if(a!=null){if(a.ref!==void 0&&(R=a.ref,w=C.current),a.key!==void 0&&(g=""+a.key),e.type&&e.type.defaultProps)var T=e.type.defaultProps;for(b in a)M.call(a,b)&&!$.hasOwnProperty(b)&&(E[b]=a[b]===void 0&&T!==void 0?T[b]:a[b])}var b=arguments.length-2;if(b===1)E.children=p;else if(1<b){T=Array(b);for(var Y=0;Y<b;Y++)T[Y]=arguments[Y+2];E.children=T}return{$$typeof:n,type:e.type,key:g,ref:R,props:E,_owner:w}},t.createContext=function(e,a){return a===void 0&&(a=null),e={$$typeof:c,_calculateChangedBits:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=z,t.createFactory=function(e){var a=z.bind(null,e);return a.type=e,a},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=X,t.lazy=function(e){return{$$typeof:x,_payload:{_status:-1,_result:e},_init:ge}},t.memo=function(e,a){return{$$typeof:d,type:e,compare:a===void 0?null:a}},t.useCallback=function(e,a){return B().useCallback(e,a)},t.useContext=function(e,a){return B().useContext(e,a)},t.useDebugValue=function(){},t.useEffect=function(e,a){return B().useEffect(e,a)},t.useImperativeHandle=function(e,a,p){return B().useImperativeHandle(e,a,p)},t.useLayoutEffect=function(e,a){return B().useLayoutEffect(e,a)},t.useMemo=function(e,a){return B().useMemo(e,a)},t.useReducer=function(e,a,p){return B().useReducer(e,a,p)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="17.0.2"});y.Fragment;y.StrictMode;y.Profiler;y.Suspense;y.Children;y.Component;y.PureComponent;y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;y.cloneElement;y.createContext;y.createElement;y.createFactory;y.createRef;y.forwardRef;y.isValidElement;y.lazy;y.memo;y.useCallback;y.useContext;y.useDebugValue;y.useEffect;y.useImperativeHandle;y.useLayoutEffect;y.useMemo;y.useReducer;y.useRef;y.useState;y.version;var v=ve(function(r,t){});v.Fragment;v.StrictMode;v.Profiler;v.Suspense;v.Children;v.Component;v.PureComponent;v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;v.cloneElement;v.createContext;v.createElement;v.createFactory;v.createRef;v.forwardRef;v.isValidElement;v.lazy;v.memo;v.useCallback;v.useContext;v.useDebugValue;v.useEffect;v.useImperativeHandle;v.useLayoutEffect;v.useMemo;v.useReducer;v.useRef;v.useState;v.version;var ne=ve(function(r){r.exports=y}),De=function(r){var t=r.children,n=r.render,s=Me(r,["children","render"]);return ne.createElement(ne.Fragment,null,n?ne.createElement(ne.Fragment,null,n(function(){return Ae(s)})):ne.createElement("button",{type:"button",id:"usecsv-button",style:{backgroundColor:"#FFF",color:"#000",border:"2px solid #000",borderRadius:"6px",padding:"10px 15px",textAlign:"center",fontSize:"16px",cursor:"pointer"},onClick:function(){return Ae(s)}},t))};var je=fe($e(),1),I=fe(Pe(),1);function Le(){return(0,I.jsxs)("html",{children:[(0,I.jsxs)("head",{children:[(0,I.jsx)("link",{rel:"icon",href:"data:image/x-icon;base64,AA"}),(0,I.jsx)(be,{}),(0,I.jsx)(_e,{})]}),(0,I.jsxs)("body",{children:[(0,I.jsxs)(je.Suspense,{fallback:(0,I.jsx)("div",{children:"Loading..."}),children:[(0,I.jsx)(De,{importerKey:"e3033735-73be-498a-9d3c-0a8b4c070e67",render:r=>(0,I.jsx)("button",{onClick:r,style:{color:"#fff",backgroundColor:"#027ad6",boxShadow:"0 32px 64px rgba(0,0,0,0.07);",textAlign:"center",border:"none",borderRadius:"3px",padding:"5px"},children:"Import Data"}),importerDisplay:"inline"}),(0,I.jsx)("div",{style:{position:"relative",border:"1px solid #027ad6",width:"1200px",height:"650px",marginTop:"20px",marginLeft:"auto",marginRight:"auto"},id:"usecsv-importer-inline-wrapper"})]}),(0,I.jsx)(Ce,{}),(0,I.jsx)(Re,{}),(0,I.jsx)(Te,{})]})]})}export{Le as default};
/*! Bundled license information:

@usecsv/react/build/index.esm.js:
  (*!
   * @usecsv/react v0.8.4
   * (c) layercode
   * Released under the MIT License.
   *)
  (*!
   * @usecsv/js v0.21.5
   * (c) layercode
   * Released under the MIT License.
   *)
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)
*/
